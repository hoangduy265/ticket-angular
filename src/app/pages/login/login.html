<!-- Tailwind Login Page -->
<div class="relative p-6 bg-white z-1 dark:bg-gray-900 sm:p-0">
  <div class="relative flex flex-col justify-center w-full h-screen dark:bg-gray-900 sm:p-0 lg:flex-row">
    
    <!-- Left Side - Form -->
    <div class="flex flex-col flex-1 w-full lg:w-1/2">
      <div class="flex flex-col justify-center flex-1 w-full max-w-md mx-auto">
        
        <!-- Header -->
        <div class="mb-5 sm:mb-8">
          <div class="mb-6 text-center">
            <h1 class="text-3xl font-bold text-gray-800 dark:text-white">
              <!-- <span class="text-blue-600">Ticket</span>Management -->
            </h1>
          </div>
          
          <h2 class="mb-2 font-semibold text-gray-800 text-2xl dark:text-white/90">
            Đăng nhập
          </h2>
          <p class="text-sm text-gray-500 dark:text-gray-400">
            Nhập tài khoản và mật khẩu để tiếp tục!
          </p>
        </div>

        <!-- Form -->
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <div class="space-y-5">
            
            <!-- Username Field -->
            <div>
              <label class="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400">
                Tên đăng nhập <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                formControlName="username"
                placeholder="Nhập tên đăng nhập"
                [class]="'h-11 w-full rounded-lg border bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ' + 
                        (loginForm.get('username')?.invalid && loginForm.get('username')?.touched 
                         ? 'border-red-300 focus:border-red-300 focus:ring-red-500/10' 
                         : 'border-gray-300 focus:border-blue-300 focus:ring-blue-500/10 dark:border-gray-700 dark:focus:border-blue-800')"
              />
              <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched" 
                   class="mt-1 text-sm text-red-600">
                {{ getErrorMessage('username') }}
              </div>
            </div>

            <!-- Password Field -->
            <div>
              <label class="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400">
                Mật khẩu <span class="text-red-500">*</span>
              </label>
              <div class="relative">
                <input
                  [type]="showPassword ? 'text' : 'password'"
                  formControlName="password"
                  placeholder="Nhập mật khẩu"
                  [class]="'h-11 w-full rounded-lg border bg-transparent py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ' + 
                          (loginForm.get('password')?.invalid && loginForm.get('password')?.touched 
                           ? 'border-red-300 focus:border-red-300 focus:ring-red-500/10' 
                           : 'border-gray-300 focus:border-blue-300 focus:ring-blue-500/10 dark:border-gray-700 dark:focus:border-blue-800')"
                />
                <span
                  (click)="togglePasswordVisibility()"
                  class="absolute z-30 text-gray-500 -translate-y-1/2 cursor-pointer right-4 top-1/2 dark:text-gray-400"
                >
                  <!-- Eye Icon - Show -->
                  <svg *ngIf="!showPassword" class="fill-current" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0002 13.8619C7.23361 13.8619 4.86803 12.1372 3.92328 9.70241C4.86804 7.26761 7.23361 5.54297 10.0002 5.54297C12.7667 5.54297 15.1323 7.26762 16.0771 9.70243C15.1323 12.1372 12.7667 13.8619 10.0002 13.8619ZM10.0002 4.04297C6.48191 4.04297 3.49489 6.30917 2.4155 9.4593C2.3615 9.61687 2.3615 9.78794 2.41549 9.94552C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C13.5184 15.3619 16.5055 13.0957 17.5849 9.94555C17.6389 9.78797 17.6389 9.6169 17.5849 9.45932C16.5055 6.30919 13.5184 4.04297 10.0002 4.04297ZM9.99151 7.84413C8.96527 7.84413 8.13333 8.67606 8.13333 9.70231C8.13333 10.7286 8.96527 11.5605 9.99151 11.5605H10.0064C11.0326 11.5605 11.8646 10.7286 11.8646 9.70231C11.8646 8.67606 11.0326 7.84413 10.0064 7.84413H9.99151Z" fill="#98A2B3"/>
                  </svg>
                  
                  <!-- Eye Slash Icon - Hide -->
                  <svg *ngIf="showPassword" class="fill-current" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.63803 3.57709C4.34513 3.2842 3.87026 3.2842 3.57737 3.57709C3.28447 3.86999 3.28447 4.34486 3.57737 4.63775L4.85323 5.91362C3.74609 6.84199 2.89363 8.06395 2.4155 9.45936C2.3615 9.61694 2.3615 9.78801 2.41549 9.94558C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C11.255 15.3619 12.4422 15.0737 13.4994 14.5598L15.3625 16.4229C15.6554 16.7158 16.1302 16.7158 16.4231 16.4229C16.716 16.13 16.716 15.6551 16.4231 15.3622L4.63803 3.57709Z" fill="#98A2B3"/>
                  </svg>
                </span>
              </div>
              <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" 
                   class="mt-1 text-sm text-red-600">
                {{ getErrorMessage('password') }}
              </div>
            </div>

            <!-- Remember Me -->
            <div class="flex items-center justify-between">
              <label class="flex items-center text-sm font-normal text-gray-700 cursor-pointer select-none dark:text-gray-400">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:border-gray-600"
                />
                <span class="ml-2">Ghi nhớ đăng nhập</span>
              </label>
              
              <a href="#" class="text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400">
                Quên mật khẩu?
              </a>
            </div>

            <!-- Submit Button -->
            <div>
              <button
                type="submit"
                [disabled]="isLoading"
                class="flex items-center justify-center w-full px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-blue-600 shadow-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
              >
                <svg *ngIf="isLoading" class="w-4 h-4 mr-2 animate-spin" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M10 3.5a6.5 6.5 0 106.5 6.5.75.75 0 011.5 0 8 8 0 11-8-8 .75.75 0 011.5 0z"/>
                </svg>
                {{ isLoading ? 'Đang đăng nhập...' : 'Đăng nhập' }}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- Right Side - Background Image -->
        <div class="hidden lg:flex lg:w-1/2 bg-linear-to-br items-center justify-center">
      <div class="text-center text-white p-12">
        <h3 class="text-4xl font-bold mb-4">Chào mừng trở lại!</h3>
        <p class="text-xl opacity-90">Quản lý ticket một cách hiệu quả và chuyên nghiệp</p>
        
        <!-- Decorative Elements -->
        <div class="mt-12 relative">
          <div class="absolute top-0 left-1/4 w-16 h-16 bg-white/10 rounded-full animate-pulse"></div>
          <div class="absolute top-8 right-1/4 w-8 h-8 bg-white/20 rounded-full animate-bounce"></div>
          <div class="absolute bottom-0 left-1/3 w-12 h-12 bg-white/15 rounded-full animate-pulse delay-1000"></div>
        </div>
      </div>
    </div>
  </div>
</div>
